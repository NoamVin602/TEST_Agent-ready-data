"use client";

import { useState } from "react";
import { 
  SearchIcon,
  ChevronDownIcon
} from "../../lib/slds-icons";

interface NavItem {
  id: string;
  label: string;
  iconSvg: string;
  children?: { id: string; label: string; }[];
}

const NAV_ITEMS: NavItem[] = [
  {
    id: "connect-unify",
    label: "Connect & Unify",
    iconSvg: `<path d="M13.6923 6.46139C13.9931 6.46145 14.2884 6.54165 14.5479 6.69376C14.8073 6.84586 15.0216 7.06437 15.1685 7.32678C15.3155 7.58919 15.3899 7.88602 15.384 8.18672C15.3781 8.48743 15.2922 8.78113 15.1351 9.03761C14.9781 9.29409 14.7554 9.50406 14.4902 9.64592C14.225 9.78779 13.9268 9.85641 13.6263 9.84473C13.3258 9.83305 13.0338 9.74148 12.7804 9.57946C12.527 9.41744 12.3213 9.19082 12.1846 8.92293H11.9046C10.2462 8.94139 9.66156 9.446 8.73233 11.1814L8.68002 11.2829L8.61849 11.3999C8.06464 12.4368 7.75079 12.9075 7.18464 13.406C6.38772 14.1045 5.36002 14.4614 4.00002 14.4614H3.81541C3.64267 14.7999 3.36101 15.0704 3.01581 15.2293C2.67061 15.3883 2.28196 15.4264 1.91246 15.3376C1.54295 15.2488 1.2141 15.0381 0.978869 14.7396C0.743639 14.4412 0.615723 14.0722 0.615723 13.6922C0.615723 13.3121 0.743639 12.9432 0.978869 12.6447C1.2141 12.3462 1.54295 12.1356 1.91246 12.0467C2.28196 11.9579 2.67061 11.996 3.01581 12.155C3.36101 12.3139 3.64267 12.5844 3.81541 12.9229H4.09541C5.78464 12.9045 6.36002 12.3814 7.32002 10.5629L7.38464 10.4614C7.64696 9.91543 7.96782 9.39958 8.34156 8.92293H3.81541C3.64267 9.26143 3.36101 9.53194 3.01581 9.69089C2.67061 9.84983 2.28196 9.88796 1.91246 9.79912C1.54295 9.71029 1.2141 9.49967 0.978869 9.20119C0.743639 8.9027 0.615723 8.53373 0.615723 8.1537C0.615723 7.77366 0.743639 7.40469 0.978869 7.10621C1.2141 6.80772 1.54295 6.5971 1.91246 6.50827C2.28196 6.41944 2.67061 6.45756 3.01581 6.61651C3.36101 6.77545 3.64267 7.04596 3.81541 7.38447H12.1846C12.3218 7.11718 12.5273 6.89097 12.7802 6.72884C13.0331 6.5667 13.3245 6.47443 13.6246 6.46139H13.6923ZM13.6923 0.615236C13.9931 0.615291 14.2884 0.6955 14.5479 0.847604C14.8073 0.999708 15.0216 1.21821 15.1685 1.48062C15.3155 1.74303 15.3899 2.03987 15.384 2.34057C15.3781 2.64127 15.2922 2.93498 15.1351 3.19146C14.9781 3.44793 14.7554 3.65791 14.4902 3.79977C14.225 3.94163 13.9268 4.01026 13.6263 3.99857C13.3258 3.98689 13.0338 3.89533 12.7804 3.73331C12.527 3.57129 12.3213 3.34467 12.1846 3.07677H3.81541C3.64267 3.41528 3.36101 3.68579 3.01581 3.84473C2.67061 4.00368 2.28196 4.0418 1.91246 3.95297C1.54295 3.86414 1.2141 3.65352 0.978869 3.35503C0.743639 3.05655 0.615723 2.68758 0.615723 2.30754C0.615723 1.92751 0.743639 1.55854 0.978869 1.26005C1.2141 0.961569 1.54295 0.75095 1.91246 0.662117C2.28196 0.573285 2.67061 0.611411 3.01581 0.770355C3.36101 0.929299 3.64267 1.19981 3.81541 1.53831H12.1846C12.3264 1.26043 12.5423 1.02715 12.8084 0.864257C13.0744 0.701358 13.3804 0.615178 13.6923 0.615236Z" fill="#5C5C5C"/>`,
    children: [
      { id: "data-streams", label: "Data Streams" },
      { id: "data-lake", label: "Data Lake Objects" },
      { id: "data-transforms", label: "Data Transforms" },
      { id: "data-model", label: "Data Model" },
      { id: "identity", label: "Identity Resolution" },
    ]
  },
  {
    id: "govern-secure",
    label: "Govern & Secure",
    iconSvg: `<path fill-rule="evenodd" clip-rule="evenodd" d="M11.2992 2.88033L6.22291 0.154684C6.06419 0.0613403 5.90547 0 5.74675 0C5.58803 0 5.42931 0.0613401 5.27059 0.122681L0.194295 2.91233C0.136828 2.94167 0.0875698 2.98701 0.0547312 3.04035C0.0218927 3.09369 0.00273725 3.1577 0.0054738 3.2217V3.62442C0.0054738 3.84044 0.197032 4.02713 0.418693 4.02713H11.1104C11.332 4.02713 11.5236 3.84044 11.5236 3.62442V3.25371C11.5236 3.09902 11.4278 2.97367 11.3019 2.883L11.2992 2.88033ZM5.03251 2.91233C4.83822 2.72298 4.73149 2.46695 4.73149 2.20025C4.73149 1.64286 5.14471 1.20814 5.74675 1.20814C6.34879 1.20814 6.79485 1.64286 6.79485 2.20025C6.79485 2.46695 6.68539 2.72298 6.49383 2.91233C6.29953 3.10169 6.03683 3.20837 5.76591 3.20837C5.49499 3.20837 5.22954 3.10169 5.03798 2.91233H5.03251Z" fill="#747474"/><path d="M0.369434 12.0547H7.91683C7.89768 11.9934 7.88126 11.932 7.8621 11.8707C7.84568 11.8014 7.81832 11.716 7.78822 11.6147C7.64318 11.1373 7.40784 10.3692 7.65412 10.0225V5.60864C7.65412 5.39262 7.46257 5.20593 7.24091 5.20593H6.82769C6.60603 5.20593 6.41447 5.39262 6.41447 5.60864V10.0225H5.17755V5.60864C5.17755 5.39262 4.98599 5.20593 4.76433 5.20593H4.35111C4.12945 5.20593 3.93789 5.39262 3.93789 5.60864V10.0225H2.70097V5.60864C2.70097 5.39262 2.50941 5.20593 2.28775 5.20593H1.87454C1.65288 5.20593 1.46132 5.39262 1.46132 5.60864V10.0091H1.26976C1.21776 10.0091 1.16303 10.0145 1.11104 10.0225H0.949582C0.424165 10.0225 0 10.4385 0 10.9506V11.7C0 11.8974 0.164193 12.0574 0.363961 12.0574L0.369434 12.0547Z" fill="#747474"/><path d="M10.0623 5.63798V7.90491H9.78863C9.42467 7.90491 9.31247 8.25961 9.21122 8.58765C9.1647 8.73434 9.12092 8.87302 9.05797 8.97436C8.99503 9.07038 8.92662 9.15572 8.85821 9.22773V5.63798C8.85821 5.42196 9.04977 5.23527 9.27143 5.23527H9.6518C9.87347 5.23527 10.065 5.42196 10.065 5.63798H10.0623Z" fill="#747474"/><path d="M13.4501 10.5105C13.327 10.4012 12.6948 10.4012 12.4349 10.4012C12.3117 10.4012 12.3117 10.4999 12.3117 10.6199V13.9536C12.3117 14.271 12.8289 13.7669 12.8864 13.7136C13.4173 13.1722 13.8168 12.5241 14.0576 11.8174C14.0686 11.7827 14.0795 11.7453 14.0905 11.7133C14.1616 11.5 14.2164 11.3293 14.0111 11.1613C13.8935 11.0653 13.8059 10.9453 13.7156 10.8252C13.6335 10.7132 13.5514 10.6039 13.4474 10.5132L13.4501 10.5105Z" fill="#747474"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15.7406 10.3212C15.3712 10.2145 15.051 9.96114 14.843 9.63844C14.7938 9.5611 14.7582 9.45175 14.7226 9.33974C14.6405 9.08638 14.5502 8.81168 14.2766 8.81168H10.3606C10.0787 8.81168 9.99387 9.08638 9.91178 9.33974C9.8762 9.45175 9.84336 9.5611 9.79137 9.63844C9.5916 9.94247 9.34805 10.0705 9.06618 10.2172C8.98409 10.2598 8.89652 10.3052 8.80621 10.3585C8.46414 10.5505 8.68033 11.2626 8.80895 11.6813C8.83358 11.7587 8.85273 11.828 8.86642 11.8787C9.24953 13.2095 9.97472 14.4417 11.1076 15.3164C11.4278 15.5671 11.7754 15.7858 12.1421 15.9645C12.4403 16.1138 12.9138 15.7565 13.1874 15.5511C13.2203 15.5271 13.2504 15.5031 13.275 15.4844C13.9153 15.0417 14.4462 14.479 14.8649 13.8443C15.2234 13.2922 15.4943 12.6948 15.6914 12.0707C15.7653 11.82 15.8391 11.5667 15.8884 11.3026C15.8966 11.2653 15.9076 11.228 15.9185 11.1853C15.9705 10.9773 16.0362 10.7159 15.976 10.5372C15.9513 10.4412 15.8528 10.3585 15.7406 10.3212ZM14.7418 10.7799C14.4791 10.7026 14.2519 10.5265 14.1042 10.2972C14.0686 10.2412 14.044 10.1665 14.0193 10.0865C13.9619 9.9078 13.8962 9.71311 13.7046 9.71311H10.9298C10.73 9.71311 10.6698 9.9078 10.6123 10.0865C10.5877 10.1665 10.5631 10.2438 10.5275 10.2972C10.3852 10.5132 10.2128 10.6039 10.013 10.7079C9.95283 10.7399 9.89262 10.7692 9.82968 10.8066C9.58613 10.9426 9.74211 11.4466 9.82968 11.7427C9.8461 11.7987 9.86252 11.8467 9.87073 11.884C10.1416 12.8255 10.6561 13.7002 11.4579 14.319C11.6851 14.4977 11.9313 14.6497 12.1913 14.7777C12.402 14.8844 12.7386 14.631 12.9302 14.4843C12.9521 14.4683 12.974 14.4523 12.9931 14.439C13.4474 14.1243 13.8223 13.7269 14.1179 13.2762C14.3696 12.8868 14.5639 12.4628 14.7035 12.02C14.7555 11.8414 14.8075 11.6627 14.843 11.476C14.8485 11.4493 14.8567 11.4226 14.8622 11.3933C14.9005 11.2466 14.947 11.0599 14.9032 10.9346C14.8868 10.8679 14.8157 10.8066 14.7363 10.7826L14.7418 10.7799Z" fill="#747474"/>`,
  },
  {
    id: "process-enrich",
    label: "Process & Enrich",
    iconSvg: `<path fill-rule="evenodd" clip-rule="evenodd" d="M4.9848 7.13864L7.60019 3.87711C7.7848 3.63095 8.15403 3.63095 8.33865 3.87711L10.954 7.16941C11.0463 7.29248 11.1694 7.38479 11.3233 7.38479H14.2771C14.5233 7.38479 14.7694 7.16941 14.7694 6.92325V2.46172C14.7694 1.7848 14.1848 1.23096 13.5079 1.23096H2.46173C1.7848 1.23096 1.23096 1.7848 1.23096 2.46172V6.92325C1.23096 7.16941 1.44634 7.38479 1.6925 7.38479H4.61557C4.76942 7.38479 4.8925 7.26171 4.9848 7.13864ZM10.9848 8.8617L8.36942 12.1232C8.1848 12.3694 7.81557 12.3694 7.63096 12.1232L5.01557 8.83093C4.8925 8.73862 4.76942 8.61555 4.61557 8.61555H1.6925C1.44634 8.61555 1.23096 8.83093 1.23096 9.07709V13.5386C1.23096 14.2155 1.7848 14.7694 2.46173 14.7694H13.5386C14.2156 14.7694 14.7694 14.2155 14.7694 13.5386V9.07709C14.7694 8.83093 14.554 8.61555 14.3079 8.61555H11.354C11.2002 8.61555 11.0771 8.73862 10.9848 8.8617Z" fill="#5C5C5C"/>`,
  },
  {
    id: "query-explore",
    label: "Query & Explore",
    iconSvg: `<path fill-rule="evenodd" clip-rule="evenodd" d="M14.3078 0.615234H1.69249C1.44634 0.615234 1.23096 0.830615 1.23096 1.07676V2.6152C1.23096 2.86135 1.44634 3.07673 1.69249 3.07673H14.3078C14.554 3.07673 14.7694 2.86135 14.7694 2.6152V1.07676C14.7694 0.830615 14.554 0.615234 14.3078 0.615234ZM4.46172 4.30832H1.69249C1.44634 4.30832 1.23096 4.5237 1.23096 4.76985V5.69291C1.23096 5.93906 1.44634 6.15444 1.69249 6.15444H4.46172C4.70787 6.15444 4.92325 5.93906 4.92325 5.69291V4.76985C4.92325 4.5237 4.70787 4.30832 4.46172 4.30832ZM9.38476 4.30832H6.61554C6.36938 4.30832 6.154 4.5237 6.154 4.76985V5.69291C6.154 5.93906 6.36938 6.15444 6.61554 6.15444H9.38476C9.63091 6.15444 9.8463 5.93906 9.8463 5.69291V4.76985C9.8463 4.5237 9.63091 4.30832 9.38476 4.30832ZM14.3079 4.30832H11.5387C11.2925 4.30832 11.0772 4.5237 11.0772 4.76985V5.69291C11.0772 5.93906 11.2925 6.15444 11.5387 6.15444H14.3079C14.5541 6.15444 14.7695 5.93906 14.7695 5.69291V4.76985C14.7695 4.5237 14.5541 4.30832 14.3079 4.30832ZM4.46172 7.38413H1.69249C1.44634 7.38413 1.23096 7.59951 1.23096 7.84566V8.76872C1.23096 9.01487 1.44634 9.23026 1.69249 9.23026H4.46172C4.70787 9.23026 4.92325 9.01487 4.92325 8.76872V7.84566C4.92325 7.59951 4.70787 7.38413 4.46172 7.38413ZM9.38476 7.38413H6.61554C6.36938 7.38413 6.154 7.59951 6.154 7.84566V8.76872C6.154 9.01487 6.36938 9.23026 6.61554 9.23026H9.38476C9.63091 9.23026 9.8463 9.01487 9.8463 8.76872V7.84566C9.8463 7.59951 9.63091 7.38413 9.38476 7.38413ZM14.3079 7.38413H11.5387C11.2925 7.38413 11.0772 7.59951 11.0772 7.84566V8.76872C11.0772 9.01487 11.2925 9.23026 11.5387 9.23026H14.3079C14.5541 9.23026 14.7695 9.01487 14.7695 8.76872V7.84566C14.7695 7.59951 14.5541 7.38413 14.3079 7.38413ZM4.46172 10.4602H1.69249C1.44634 10.4602 1.23096 10.6756 1.23096 10.9217V11.8448C1.23096 12.0909 1.44634 12.3063 1.69249 12.3063H4.46172C4.70787 12.3063 4.92325 12.0909 4.92325 11.8448V10.9217C4.92325 10.6756 4.70787 10.4602 4.46172 10.4602ZM9.38476 10.4602H6.61554C6.36938 10.4602 6.154 10.6756 6.154 10.9217V11.8448C6.154 12.0909 6.36938 12.3063 6.61554 12.3063H9.38476C9.63091 12.3063 9.8463 12.0909 9.8463 11.8448V10.9217C9.8463 10.6756 9.63091 10.4602 9.38476 10.4602ZM14.3079 10.4602H11.5387C11.2925 10.4602 11.0772 10.6756 11.0772 10.9217V11.8448C11.0772 12.0909 11.2925 12.3063 11.5387 12.3063H14.3079C14.5541 12.3063 14.7695 12.0909 14.7695 11.8448V10.9217C14.7695 10.6756 14.5541 10.4602 14.3079 10.4602ZM4.46172 13.5384H1.69249C1.44634 13.5384 1.23096 13.7538 1.23096 13.9999V14.923C1.23096 15.1691 1.44634 15.3845 1.69249 15.3845H4.46172C4.70787 15.3845 4.92325 15.1691 4.92325 14.923V13.9999C4.92325 13.7538 4.70787 13.5384 4.46172 13.5384ZM9.38476 13.5384H6.61554C6.36938 13.5384 6.154 13.7538 6.154 13.9999V14.923C6.154 15.1691 6.36938 15.3845 6.61554 15.3845H9.38476C9.63091 15.3845 9.8463 15.1691 9.8463 14.923V13.9999C9.8463 13.7538 9.63091 13.5384 9.38476 13.5384ZM14.3079 13.5384H11.5387C11.2925 13.5384 11.0772 13.7538 11.0772 13.9999V14.923C11.0772 15.1691 11.2925 15.3845 11.5387 15.3845H14.3079C14.5541 15.3845 14.7695 15.1691 14.7695 14.923V13.9999C14.7695 13.7538 14.5541 13.5384 14.3079 13.5384Z" fill="#5C5C5C"/>`,
  },
  {
    id: "analyze-predict",
    label: "Analyze & Predict",
    iconSvg: `<path fill-rule="evenodd" clip-rule="evenodd" d="M14.001 7.20868L7.69925 10.6902C7.26889 10.9058 6.77704 10.5977 6.77704 10.1356V2.58724C6.77704 2.27914 6.46964 2.03266 6.19298 2.12509C3.11896 2.98776 0.905667 5.97629 1.27455 9.39616C1.61269 12.5079 4.10265 15.0343 7.23815 15.3732C11.3266 15.8046 14.7695 12.6312 14.7695 8.62592C14.7695 8.2562 14.7388 7.88649 14.6773 7.51677C14.6158 7.20868 14.2777 7.05463 14.001 7.20868ZM8.52907 8.6258L14.5849 5.39079C14.9538 5.20593 15.0767 4.71298 14.8308 4.37407C13.4475 2.46388 11.2957 1.07745 8.83648 0.676921C8.40611 0.584493 8.00649 0.923398 8.00649 1.35473V8.3177C8.00649 8.59499 8.28315 8.74904 8.52907 8.6258Z" fill="#5C5C5C"/>`,
  },
  {
    id: "segment-act",
    label: "Segment & Act",
    iconSvg: `<path d="M15.1937 6.77395L14.9446 6.07564L9.28112 8.09675L9.15499 8.41976C9.07501 8.65048 8.92735 8.85044 8.73046 8.99503C8.18904 9.39494 7.42612 9.28112 7.02313 8.7397C6.86316 8.52436 6.7801 8.26287 6.78318 7.99524C6.78626 7.65685 6.90931 7.32768 7.13387 7.07235L7.28461 6.87239V0.584473L6.38634 0.784431C4.80821 1.13513 3.39619 2.00571 2.36871 3.25469C1.26433 4.57749 0.655225 6.24483 0.645996 7.97063C0.645996 12.0498 3.95608 15.3537 8.03215 15.3537C12.1082 15.3537 15.4122 12.0467 15.4152 7.97063C15.3968 7.56148 15.3199 7.16156 15.1907 6.77395H15.1937ZM12.1759 12.1882C11.0746 13.2987 9.57337 13.9171 8.01062 13.9109C6.44786 13.9109 4.94971 13.2926 3.84533 12.1882C1.69193 10.0348 1.53812 6.58938 3.49463 4.25448C4.11912 3.51002 4.91588 2.9286 5.81415 2.55945V6.42633C5.49422 6.897 5.31887 7.45381 5.31579 8.02292C5.31272 8.74585 5.59881 9.43801 6.11563 9.94252C6.62629 10.4501 7.31538 10.7362 8.03523 10.7424C8.61049 10.7424 9.17037 10.5609 9.63182 10.2194C9.96713 9.97944 10.244 9.66258 10.4316 9.2965L13.9232 8.05061C13.9048 9.60721 13.2772 11.0931 12.1759 12.1913V12.1882Z" fill="#5C5C5C"/><path d="M9.40725 6.47248L14.2708 4.74976C14.4093 4.70977 14.4893 4.56518 14.4493 4.42675C14.44 4.38983 14.4185 4.35599 14.3939 4.32831L14.3447 4.22987C13.2218 2.36256 11.333 1.08591 9.1796 0.738287C8.96426 0.707524 8.76431 0.858262 8.73354 1.0736C8.73354 1.09514 8.73046 1.11667 8.73046 1.1382V6.02642C8.73046 6.08487 8.73662 6.14331 8.75508 6.20176C8.85967 6.4571 9.14884 6.58015 9.40417 6.47555L9.40725 6.47248Z" fill="#5C5C5C"/>`,
  },
];

export function LeftNavigation() {
  const [expandedItems, setExpandedItems] = useState<string[]>(["connect-unify"]);
  const [activeItem, setActiveItem] = useState("data-curation");
  const [isCollapsed, setIsCollapsed] = useState(false);

  const toggleItem = (id: string) => {
    setExpandedItems(prev => 
      prev.includes(id) 
        ? prev.filter(item => item !== id)
        : [...prev, id]
    );
  };

  if (isCollapsed) {
    return (
      <div
        className="slds-navigation"
        style={{
          width: '60px',
          backgroundColor: 'var(--slds-g-color-neutral-base-100)',
          borderRight: '1px solid var(--slds-g-color-border-1, rgba(201, 201, 201, 1))',
          display: 'flex',
          flexDirection: 'column',
          padding: 'var(--slds-g-spacing-2) 0',
          transition: 'width var(--slds-g-transition-base)',
          height: '100%',
        }}
      >
        {NAV_ITEMS.map(({ id, iconSvg }) => (
          <button
            key={id}
            type="button"
            className="slds-button slds-button_icon"
            style={{
              width: '100%',
              height: '44px',
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'center',
              border: 'none',
              background: 'transparent',
              cursor: 'pointer',
              color: 'var(--slds-g-color-icon-default)'
            }}
            onMouseEnter={(e) => {
              e.currentTarget.style.backgroundColor = 'var(--slds-g-color-neutral-base-95)';
            }}
            onMouseLeave={(e) => {
              e.currentTarget.style.backgroundColor = 'transparent';
            }}
          >
            <svg width="20" height="20" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" dangerouslySetInnerHTML={{ __html: iconSvg }} />
          </button>
        ))}
        
        {/* Expand Button */}
        <button
          type="button"
          onClick={() => setIsCollapsed(false)}
          className="slds-button slds-button_neutral"
          style={{
            width: '100%',
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'center',
            padding: 'var(--slds-g-spacing-2)',
            border: 'none',
            borderTop: '1px solid var(--slds-g-color-border-1, rgba(201, 201, 201, 1))',
            background: 'transparent',
            cursor: 'pointer',
            fontSize: 'var(--slds-g-font-scale-base)',
            color: 'var(--slds-g-color-on-surface-1)',
            marginTop: 'auto'
          }}
          onMouseEnter={(e) => {
            e.currentTarget.style.backgroundColor = 'var(--slds-g-color-neutral-base-95)';
          }}
          onMouseLeave={(e) => {
            e.currentTarget.style.backgroundColor = 'transparent';
          }}
        >
          Expand
        </button>
      </div>
    );
  }

  return (
    <div
      className="slds-navigation"
      style={{
        width: '220px',
        backgroundColor: 'var(--slds-g-color-neutral-base-100)',
        borderRight: '1px solid var(--slds-g-color-border-1, rgba(201, 201, 201, 1))',
        display: 'flex',
        flexDirection: 'column',
        overflowY: 'auto',
        transition: 'width var(--slds-g-transition-base)',
        height: '100%'
      }}
    >
      {/* Quick Find Search */}
      <div style={{ padding: 'var(--slds-g-spacing-4) var(--slds-g-spacing-4) var(--slds-g-spacing-3)' }}>
        <div className="slds-form-element" style={{ position: 'relative' }}>
          <div className="slds-form-element__control slds-input-has-icon_left">
            <SearchIcon 
              className="slds-input__icon slds-input__icon_left"
              size={14}
              color="var(--slds-g-color-icon-default)"
              style={{
                position: 'absolute',
                left: 'var(--slds-g-spacing-2)',
                top: '50%',
                transform: 'translateY(-50%)',
                pointerEvents: 'none'
              }}
            />
            <input
              type="text"
              className="slds-input"
              placeholder="Quick find"
              style={{
                width: '100%',
                height: '32px',
                paddingLeft: '32px',
                fontSize: 'var(--slds-g-font-scale-base)',
                fontFamily: 'var(--slds-g-font-family)',
                fontWeight: 'var(--slds-g-font-weight-4)',
                lineHeight: '18px',
                color: 'var(--slds-g-color-on-surface-2)',
                border: '1px solid var(--slds-g-color-border-1, rgba(201, 201, 201, 1))',
                borderRadius: 'var(--slds-g-radius-border-2)',
              }}
            />
          </div>
        </div>
      </div>

      {/* Navigation Items */}
      <nav style={{ flex: 1, padding: 0 }}>
        {NAV_ITEMS.map(({ id, label, iconSvg, children }) => (
          <div key={id}>
            <button
              type="button"
              onClick={() => children && toggleItem(id)}
              className="slds-navigation__item"
              style={{
                width: '100%',
                display: 'flex',
                alignItems: 'center',
                gap: 'var(--slds-g-spacing-2)',
                padding: 'var(--slds-g-spacing-2) var(--slds-g-spacing-2) var(--slds-g-spacing-2) var(--slds-g-spacing-4)',
                border: 'none',
                background: 'transparent',
                cursor: 'pointer',
                fontSize: 'var(--slds-g-font-scale-base)',
                fontFamily: 'var(--slds-g-font-family)',
                fontWeight: 'var(--slds-g-font-weight-4)',
                lineHeight: '18px',
                color: 'var(--slds-g-color-on-surface-2)',
                textAlign: 'left',
                transition: 'background-color var(--slds-g-transition-fast)',
                height: '34px'
              }}
              onMouseEnter={(e) => {
                e.currentTarget.style.backgroundColor = 'var(--slds-g-color-neutral-base-95)';
              }}
              onMouseLeave={(e) => {
                e.currentTarget.style.backgroundColor = 'transparent';
              }}
            >
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" style={{ flexShrink: 0 }} dangerouslySetInnerHTML={{ __html: iconSvg }} />
              <span style={{ flex: 1 }}>{label}</span>
              {children && (
                <ChevronDownIcon 
                  size={14}
                  color="var(--slds-g-color-icon-default)"
                  style={{ 
                    transform: expandedItems.includes(id) ? 'rotate(0deg)' : 'rotate(-90deg)',
                    transition: 'transform var(--slds-g-transition-fast)',
                    flexShrink: 0
                  }} 
                />
              )}
            </button>

            {/* Children */}
            {children && expandedItems.includes(id) && (
              <div style={{ paddingLeft: 0 }}>
                {children.map(({ id: childId, label: childLabel }) => (
                  <button
                    key={childId}
                    type="button"
                    onClick={() => setActiveItem(childId)}
                    className="slds-navigation__item"
                    style={{
                      width: '100%',
                      display: 'flex',
                      alignItems: 'center',
                      padding: 'var(--slds-g-spacing-2) var(--slds-g-spacing-2) var(--slds-g-spacing-2) var(--slds-g-spacing-4)',
                      border: 'none',
                      background: 'transparent',
                      cursor: 'pointer',
                      fontSize: 'var(--slds-g-font-scale-base)',
                      fontFamily: 'var(--slds-g-font-family)',
                      fontWeight: 'var(--slds-g-font-weight-4)',
                      lineHeight: '18px',
                      color: 'var(--slds-g-color-on-surface-2)',
                      textAlign: 'left',
                      transition: 'all var(--slds-g-transition-fast)',
                      height: '34px'
                    }}
                    onMouseEnter={(e) => {
                      e.currentTarget.style.backgroundColor = 'var(--slds-g-color-neutral-base-95)';
                    }}
                    onMouseLeave={(e) => {
                      e.currentTarget.style.backgroundColor = 'transparent';
                    }}
                  >
                    {childLabel}
                  </button>
                ))}
              </div>
            )}
          </div>
        ))}
      </nav>

      {/* Data Curation - Active State (Above Collapse Button) */}
      <div
        className="slds-navigation__item slds-is-active"
        style={{
          width: '100%',
          display: 'flex',
          alignItems: 'center',
          gap: 'var(--slds-g-spacing-2)',
          padding: 'var(--slds-g-spacing-2) var(--slds-g-spacing-2) var(--slds-g-spacing-2) var(--slds-g-spacing-4)',
          borderLeft: '5px solid var(--slds-g-color-accent-2)',
          borderTop: '1px solid var(--slds-g-color-border-1, rgba(201, 201, 201, 1))',
          backgroundColor: 'var(--slds-g-color-electric-blue-90)',
          cursor: 'pointer',
          fontSize: 'var(--slds-g-font-scale-base)',
          fontFamily: 'var(--slds-g-font-family)',
          fontWeight: 'var(--slds-g-font-weight-6)',
          lineHeight: '18px',
          color: 'var(--slds-g-color-electric-blue-30)',
          textAlign: 'left',
          transition: 'all var(--slds-g-transition-fast)',
          height: '34px',
          marginTop: 'auto'
        }}
        onClick={() => setActiveItem("data-curation")}
      >
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" style={{ flexShrink: 0 }}>
          <path fillRule="evenodd" clipRule="evenodd" d="M7.42748 0.816512C5.08812 1.05079 3.23332 2.88855 2.98222 5.22095C2.85251 6.82601 3.52192 8.39212 4.77267 9.40978C5.14486 9.69732 5.36167 10.1413 5.3592 10.611C5.3591 10.9431 5.49342 11.2613 5.73171 11.4932C5.97 11.7252 6.29206 11.8513 6.62487 11.843H9.40316C9.73065 11.843 10.0447 11.7132 10.2763 11.4822C10.5079 11.2511 10.638 10.9377 10.638 10.611C10.6355 10.1413 10.8523 9.69732 11.2245 9.40978C12.363 8.491 13.0309 7.11305 13.0458 5.65215C13.0767 2.78773 10.4836 0.508509 7.42748 0.816512ZM10.1748 13.2902H5.85305C5.59188 13.2897 5.37545 13.4921 5.35913 13.7522C5.35913 14.5517 6.00871 15.1998 6.81002 15.1998H9.21787C9.60267 15.1998 9.97171 15.0473 10.2438 14.7758C10.5159 14.5043 10.6688 14.1361 10.6688 13.7522C10.6524 13.4921 10.436 13.2897 10.1748 13.2902Z" fill="var(--slds-g-color-electric-blue-30)"/>
        </svg>
        <span style={{ flex: 1 }}>Data Curation</span>
      </div>

      {/* Collapse Button */}
      <button
        type="button"
        onClick={() => setIsCollapsed(true)}
        className="slds-button slds-button_neutral"
        style={{
          width: '100%',
          display: 'flex',
          alignItems: 'center',
          gap: 'var(--slds-g-spacing-2)',
          padding: 'var(--slds-g-spacing-2) var(--slds-g-spacing-2) var(--slds-g-spacing-2) var(--slds-g-spacing-4)',
          border: 'none',
          borderTop: '1px solid var(--slds-g-color-border-1, rgba(201, 201, 201, 1))',
          background: 'transparent',
          cursor: 'pointer',
          fontSize: 'var(--slds-g-font-scale-base)',
          fontFamily: 'var(--slds-g-font-family)',
          fontWeight: 'var(--slds-g-font-weight-4)',
          lineHeight: '18px',
          color: 'var(--slds-g-color-on-surface-1)',
          textAlign: 'left',
          transition: 'background-color var(--slds-g-transition-fast)',
        }}
        onMouseEnter={(e) => {
          e.currentTarget.style.backgroundColor = 'var(--slds-g-color-neutral-base-95)';
        }}
        onMouseLeave={(e) => {
          e.currentTarget.style.backgroundColor = 'transparent';
        }}
      >
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" style={{ flexShrink: 0 }}>
          <path d="M3.13831 13.0153C3.13831 13.1785 3.07348 13.335 2.95807 13.4504C2.84266 13.5658 2.68614 13.6307 2.52293 13.6307H1.23062C1.06741 13.6307 0.910883 13.5658 0.795476 13.4504C0.680069 13.335 0.615234 13.1785 0.615234 13.0153V2.98453C0.615234 2.82132 0.680069 2.66479 0.795476 2.54938C0.910883 2.43398 1.06741 2.36914 1.23062 2.36914H2.49216C2.57297 2.36914 2.65299 2.38506 2.72765 2.41598C2.80232 2.44691 2.87016 2.49224 2.9273 2.54938C2.98444 2.60653 3.02977 2.67437 3.0607 2.74903C3.09162 2.82369 3.10754 2.90371 3.10754 2.98453L3.13831 13.0153ZM15.3845 8.61529C15.377 8.77609 15.3097 8.9283 15.1959 9.04213C15.0821 9.15595 14.9299 9.22319 14.7691 9.23068H9.41523C9.32842 9.21815 9.2399 9.23451 9.1633 9.27723C9.0867 9.31994 9.02626 9.38665 8.99129 9.46709C8.95631 9.54752 8.94875 9.63722 8.96976 9.72238C8.99076 9.80754 9.03918 9.88343 9.10754 9.93837L10.5845 11.4153C10.6972 11.5303 10.7604 11.685 10.7604 11.8461C10.7604 12.0071 10.6972 12.1618 10.5845 12.2768L9.72293 13.1999C9.66857 13.2548 9.60387 13.2984 9.53257 13.3281C9.46128 13.3578 9.38479 13.3731 9.30754 13.3731C9.23029 13.3731 9.15381 13.3578 9.08251 13.3281C9.01121 13.2984 8.94652 13.2548 8.89216 13.1999L4.27677 8.43068C4.21626 8.37319 4.16807 8.30399 4.13514 8.22729C4.10221 8.15059 4.08523 8.068 4.08523 7.98453C4.08523 7.90106 4.10221 7.81846 4.13514 7.74176C4.16807 7.66506 4.21626 7.59586 4.27677 7.53837L8.89216 2.83068C8.94652 2.77579 9.01121 2.73222 9.08251 2.70249C9.15381 2.67275 9.23029 2.65744 9.30754 2.65744C9.38479 2.65744 9.46128 2.67275 9.53257 2.70249C9.60387 2.73222 9.66857 2.77579 9.72293 2.83068L10.5845 3.69222C10.645 3.74971 10.6932 3.81891 10.7261 3.89561C10.759 3.97231 10.776 4.0549 10.776 4.13837C10.776 4.22184 10.759 4.30444 10.7261 4.38114C10.6932 4.45784 10.645 4.52704 10.5845 4.58453L9.13831 6.06145C9.08466 6.1173 9.04838 6.18752 9.03388 6.2636C9.01937 6.33967 9.02725 6.41831 9.05657 6.48999C9.0859 6.56167 9.1354 6.62329 9.19906 6.66738C9.26273 6.71147 9.33782 6.73613 9.41523 6.73837H14.7691C14.9326 6.75315 15.0851 6.82684 15.1983 6.9457C15.3115 7.06457 15.3777 7.22052 15.3845 7.38453V8.61529Z" fill="#747474"/>
        </svg>
        <span style={{ flex: 1 }}>Collapse</span>
      </button>
    </div>
  );
}
